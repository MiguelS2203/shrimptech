<div class="page-container">

  <!-- TÃTULO -->
  <div class="titulo-banner">
    <h2>ðŸ“¦ GestiÃ³n de Cosechas</h2>
  </div>

  <!-- BOTÃ“N AGREGAR -->
  <div class="btn-box">
    <button class="btn-agregar" (click)="abrirNuevo()">
      <span class="material-icons">add</span> Nueva Cosecha
    </button>
  </div>

  <!-- FILTROS -->
  <div class="filtros-row">

    <!-- FILTRO FECHA -->
    <fieldset class="filtro-fieldset">
      <legend>Fecha</legend>
      <input class="filtro-select" type="date" [(ngModel)]="filtroFecha">
    </fieldset>

    <!-- FILTRO LOTE -->
    <fieldset class="filtro-fieldset">
      <legend>Lote</legend>
      <input class="filtro-select" type="text" placeholder="CÃ³digo de lote"
             [(ngModel)]="filtroLote">
    </fieldset>

    <!-- FILTRO TEMPERATURA -->
    <fieldset class="filtro-fieldset">
      <legend>Temperatura (Â°C)</legend>
      <input class="filtro-select" type="number" placeholder="Ej: 28"
             [(ngModel)]="filtroTemperatura">
    </fieldset>

  </div>

  <!-- TABLA -->
  <table class="tabla">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Lote</th>
        <th>Cantidad (Kg)</th>
        <th>Sobrevivencia (%)</th>
        <th>Peso Promedio (g)</th>
        <th>Temperatura (Â°C)</th>
        <th>Observaciones</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let c of filtradas">
        <td>{{ c.fecha }}</td>
        <td>{{ c.lote }}</td>
        <td>{{ c.cantidadKg }}</td>
        <td>{{ c.sobrevivencia }}</td>
        <td>{{ c.pesoPromedio }}</td>
        <td>{{ c.temperatura }}</td>
        <td>{{ c.observaciones }}</td>

        <td class="acciones">
          <span class="material-icons ver" (click)="ver(c)" title="Ver">visibility</span>
          <span class="material-icons editar" (click)="editar(c)" title="Editar">edit</span>
          <span class="material-icons eliminar" (click)="eliminar(c.id)" title="Eliminar">delete</span>
        </td>
      </tr>

      <tr *ngIf="(filtradas || []).length === 0">
        <td colspan="8" class="sin-datos">No hay cosechas que coincidan</td>
      </tr>
    </tbody>
  </table>

</div>
